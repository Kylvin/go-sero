package generate_1

import (
	"encoding/json"
	"fmt"
	"github.com/sero-cash/go-czero-import/superzk"
	"github.com/sero-cash/go-sero/zero/txtool"
	"testing"
)



func TestSign(t *testing.T) {
	superzk.ZeroInit_NoCircuit()

	str:="{\"Gas\":90000,\"GasPrice\":1000000000,\"Fee\":{\"Currency\":\"0x000000000000000000000000000000000000000000000000000000005345524f\",\"Value\":\"90000000000000\"},\"From\":{\"SKr\":\"0x8e0d8402367784517c1a7f3f11940747f519d5dc33636ad2af373ee6b44877006c4d2a8607922277d6a0635b2ff6fa25d7db06ed65619507169e0ee7089203030000000000000000000000000000000000000000000000000000000000000000\",\"PKr\":\"0xed75a97a82f8266115e967734747de0db062b467563116fbfd73d909c9b464aff47ca967203cafc7aaf4f89d0282bbdeebcda08663cdf9d7c57732a396a1fa068289fa3f5f27c44a936e08b734de8b4af103c952589a917539077bb901431bc1\"},\"Ins\":[{\"SKr\":\"0x8e0d8402367784517c1a7f3f11940747f519d5dc33636ad2af373ee6b44877006c4d2a8607922277d6a0635b2ff6fa25d7db06ed65619507169e0ee7089203030000000000000000000000000000000000000000000000000000000000000000\",\"Out\":{\"Root\":\"0x683dfbbba9e686db3f2ca23f2cb993cca9427bb0e1e2ce510f3bad9293c24a2f\",\"State\":{\"OS\":{\"Index\":21,\"Out_O\":null,\"Out_Z\":null,\"Out_P\":{\"PKr\":\"0x385f1b179fb44e9f804c3e8a2e742f832207f3e3330e082c0abbd1b3c905eb2ca2e7f8be409341ec2259572ca3b8193d19b929411270233464c5f9fbab28cd2ebfe1442e0a69888e69d20abc1ddca7bd619a5ddec66184cc106f10f6e7172ef0\",\"Asset\":{\"Tkn\":{\"Currency\":\"0x000000000000000000000000000000000000000000000000000000005345524f\",\"Value\":\"65000000000000\"},\"Tkt\":null},\"Memo\":\"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\"},\"Out_C\":null,\"OutCM\":null,\"RootCM\":\"0xe2e35de2e89d05abb6988f8a6418dee37cac0ca34b0a969e2a68846a26311c9a\"},\"TxHash\":\"0xd2c9507cfda88ce89542798a743a343d9d6101d163273e28242fc4ab0f659c87\",\"Num\":79}},\"Witness\":{\"Pos\":\"0x15\",\"Paths\":[\"0x568c4229a69a833b0de0a0716a2de1c45cd16da96bd0383b09e07f96d5cf1683\",\"0x0100000000000000000000000000000000000000000000000000000000000000\",\"0xff6a7f715e73e79878d4c5ee6ea1133b056f078bef296346e01605dccdeb4d97\",\"0x130adf7ac88bef31232230e2954ce96f35945f640c7517930ab14d89a995bc1c\",\"0xf507f7f38d8c1cd206d898e1bde0285f81b39381a7275bd53732b0cca8278c2c\",\"0x9cda5493957ef78fa117f61252eb9b79e835906dd62f4f230964b4c2b790b892\",\"0xff3bd1141de02f0c80b435835dbb245fd5f47295e94df8935269940ae3940209\",\"0xf57f2632fe188f663c4bd0215aab05170aeb2abebadd28132ef279c5b49f79ae\",\"0xc0f73a47ede0ce8d04cc301e0ecd44148fbf887068b153e297550690fe67061f\",\"0x75eb8ed603b7e4ef3f5ad521f318b08030b25ea492ff84bc20773ed75d88570b\",\"0x9bdd82fcd971d4159e17a321242575fc15d6c56151edccc9f312a8d7e75edb2a\",\"0x50813d276f42fc0a25719f10ef573feef34ce47e2cdcdfd8ae0fa17dce70e698\",\"0xcbd115a1efe853defd7fc120b08606fa7f389c3f9425b747950682c1e09deb12\",\"0x80c0d8b03bff5f553da3fc641866ac3afbbf310908569daddf5e0e7092ad62a0\",\"0x7865c55ce8f7cb355aca5f593426d38b5f82bf0b9f4d19784d75ab498b3ca8ac\",\"0x2ceadea63565bfa72235374aa70c6ff9146456dab2a1febb1b83df2bb0b5bf90\",\"0x3686698d6e508112eb93891d48c7b50e12d54914bfdd437076ceaa60ef696e88\",\"0x311565e80def136b1a7838d09a2f1f0bfd7b7ac2a6d04d4cb6cb2efd4b33b011\",\"0x9f3b87c8faa34d9104e865b38b3cb87bc5ff71cb0a36a23b71723fbfd31fa72a\",\"0xdbdbab4b98abd0fb19465930710c700bfb07cede792139f1b4a49f340a161f24\",\"0x68b4a158325154aee284f9aec951c0da13fe4b44c9188973644a7b68f78735ac\",\"0xfb9cbf55b5bb63b8e420be52a51ffcf8bbbe878afc696ca70f3f4f2f3358260c\",\"0x31f7aa53943b9bfe0ccc6f8e25479952f2b446ffa731ef90e45a395b2b4a6e09\",\"0x447bdf93bb335d8b268dc74569477a5717197fe538795acdf6ab63fb3d848a98\",\"0x79808b4393da03ae5d0b064b532972d235b571fbc7d5900fe745834385c6981c\",\"0x042415ac74349b1eb318c113474f3b2373fcf4915f9224208f8a70224c10ac03\",\"0xf3519d004458238b7277d6cae47c966cc1b2131bbc14bb6ad8c95d4b1cb75425\",\"0xbc656cd9fd825411e4f2a1da79073c1bb4083432a6aebb80947be38a94cdba80\",\"0x24378894a012b4e87b04e8d4613b81d1795d87089f83c86f6c42cd8c3c67898e\"],\"Anchor\":\"0x683dfbbba9e686db3f2ca23f2cb993cca9427bb0e1e2ce510f3bad9293c24a2f\"},\"A\":null,\"Ar\":null},{\"SKr\":\"0x8e0d8402367784517c1a7f3f11940747f519d5dc33636ad2af373ee6b44877006c4d2a8607922277d6a0635b2ff6fa25d7db06ed65619507169e0ee7089203030000000000000000000000000000000000000000000000000000000000000000\",\"Out\":{\"Root\":\"0xb146c4181ae841c64f5eb20e090e01cd580a28b6774d7c10226dfe603bd3fb22\",\"State\":{\"OS\":{\"Index\":20,\"Out_O\":null,\"Out_Z\":null,\"Out_P\":null,\"Out_C\":{\"PKr\":\"0x385f1b179fb44e9f804c3e8a2e742f832207f3e3330e082c0abbd1b3c905eb2ca2e7f8be409341ec2259572ca3b8193d19b929411270233464c5f9fbab28cd2ebfe1442e0a69888e69d20abc1ddca7bd619a5ddec66184cc106f10f6e7172ef0\",\"AssetCM\":\"0x37967302a56a32104a73edda03c03bc65929e84324080d72bc093ee057eac196\",\"RPK\":\"0x37daffa4de3416dd57e1a36256224fd63050f9714593ff791a2a0747727dcc96\",\"EInfo\":\"0xbacbf563267e46729761d0909fca5cc322a01c5c131811daa50ecec3f7fad0830e44a1c6435ae6bd4715c3a3e8e6a1b100832c8350684e83d7a2c64d623fe717809df12528f58bc1ae0ddfa8aeb029a8ffbc910d8a2e3d43760eecb0344c2af1f31b0256bfbaaaeb3960f85665dc566f6ab4941051baab11951bd169835356326219babb70d4ae466ca11661cdefdab339389d37e763531b3de9754bbcb391eaf68923c3feaa0a76c86510ec0a54fc78ce005e4f8f478a29e36063651e239bd2600a5ea444cf1b8381294a099429e0db319c14d8b444a211cb1a1d9a561d2e08\",\"Proof\":\"0x0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\"},\"OutCM\":null,\"RootCM\":\"0x568c4229a69a833b0de0a0716a2de1c45cd16da96bd0383b09e07f96d5cf1683\"},\"TxHash\":\"0xd2c9507cfda88ce89542798a743a343d9d6101d163273e28242fc4ab0f659c87\",\"Num\":79}},\"Witness\":{\"Pos\":\"0x14\",\"Paths\":[\"0xe2e35de2e89d05abb6988f8a6418dee37cac0ca34b0a969e2a68846a26311c9a\",\"0x0100000000000000000000000000000000000000000000000000000000000000\",\"0xff6a7f715e73e79878d4c5ee6ea1133b056f078bef296346e01605dccdeb4d97\",\"0x130adf7ac88bef31232230e2954ce96f35945f640c7517930ab14d89a995bc1c\",\"0xf507f7f38d8c1cd206d898e1bde0285f81b39381a7275bd53732b0cca8278c2c\",\"0x9cda5493957ef78fa117f61252eb9b79e835906dd62f4f230964b4c2b790b892\",\"0xff3bd1141de02f0c80b435835dbb245fd5f47295e94df8935269940ae3940209\",\"0xf57f2632fe188f663c4bd0215aab05170aeb2abebadd28132ef279c5b49f79ae\",\"0xc0f73a47ede0ce8d04cc301e0ecd44148fbf887068b153e297550690fe67061f\",\"0x75eb8ed603b7e4ef3f5ad521f318b08030b25ea492ff84bc20773ed75d88570b\",\"0x9bdd82fcd971d4159e17a321242575fc15d6c56151edccc9f312a8d7e75edb2a\",\"0x50813d276f42fc0a25719f10ef573feef34ce47e2cdcdfd8ae0fa17dce70e698\",\"0xcbd115a1efe853defd7fc120b08606fa7f389c3f9425b747950682c1e09deb12\",\"0x80c0d8b03bff5f553da3fc641866ac3afbbf310908569daddf5e0e7092ad62a0\",\"0x7865c55ce8f7cb355aca5f593426d38b5f82bf0b9f4d19784d75ab498b3ca8ac\",\"0x2ceadea63565bfa72235374aa70c6ff9146456dab2a1febb1b83df2bb0b5bf90\",\"0x3686698d6e508112eb93891d48c7b50e12d54914bfdd437076ceaa60ef696e88\",\"0x311565e80def136b1a7838d09a2f1f0bfd7b7ac2a6d04d4cb6cb2efd4b33b011\",\"0x9f3b87c8faa34d9104e865b38b3cb87bc5ff71cb0a36a23b71723fbfd31fa72a\",\"0xdbdbab4b98abd0fb19465930710c700bfb07cede792139f1b4a49f340a161f24\",\"0x68b4a158325154aee284f9aec951c0da13fe4b44c9188973644a7b68f78735ac\",\"0xfb9cbf55b5bb63b8e420be52a51ffcf8bbbe878afc696ca70f3f4f2f3358260c\",\"0x31f7aa53943b9bfe0ccc6f8e25479952f2b446ffa731ef90e45a395b2b4a6e09\",\"0x447bdf93bb335d8b268dc74569477a5717197fe538795acdf6ab63fb3d848a98\",\"0x79808b4393da03ae5d0b064b532972d235b571fbc7d5900fe745834385c6981c\",\"0x042415ac74349b1eb318c113474f3b2373fcf4915f9224208f8a70224c10ac03\",\"0xf3519d004458238b7277d6cae47c966cc1b2131bbc14bb6ad8c95d4b1cb75425\",\"0xbc656cd9fd825411e4f2a1da79073c1bb4083432a6aebb80947be38a94cdba80\",\"0x24378894a012b4e87b04e8d4613b81d1795d87089f83c86f6c42cd8c3c67898e\"],\"Anchor\":\"0x683dfbbba9e686db3f2ca23f2cb993cca9427bb0e1e2ce510f3bad9293c24a2f\"},\"A\":null,\"Ar\":null}],\"Outs\":[{\"PKr\":\"0xa83e205ebf864e5ed78bce2dd3766253cc553324a8134ae517aefedc43700793366d8a85742a26a5d02498f6ceaa7aa4778bb6c029b39f952e7e88bfd319b7201721c261629c0677a3aaa743b85210a4f5e9f9305debb9bd6c444fdb63edcbc6\",\"Asset\":{\"Tkn\":{\"Currency\":\"0x000000000000000000000000000000000000000000000000000000005345524f\",\"Value\":\"589925000000\"},\"Tkt\":null},\"Memo\":\"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\"Ar\":null},{\"PKr\":\"0xed75a97a82f8266115e967734747de0db062b467563116fbfd73d909c9b464aff47ca967203cafc7aaf4f89d0282bbdeebcda08663cdf9d7c57732a396a1fa068289fa3f5f27c44a936e08b734de8b4af103c952589a917539077bb901431bc1\",\"Asset\":{\"Tkn\":{\"Currency\":\"0x000000000000000000000000000000000000000000000000000000005345524f\",\"Value\":\"9884410075000000\"},\"Tkt\":null},\"Memo\":\"0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\",\"Ar\":null}],\"Cmds\":{\"BuyShare\":null,\"RegistPool\":null,\"ClosePool\":null,\"Contract\":null,\"PkgCreate\":null,\"PkgTransfer\":null,\"PkgClose\":null}}"
	param :=&txtool.GTxParam{}
	json.Unmarshal([]byte(str), param)
	ctx, _ := SignTx(param)
	bytes, _ := json.Marshal(ctx.Tx())
	fmt.Println(string(bytes))

}
